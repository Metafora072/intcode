{
  "slug": "the-skyline-problem",
  "title": "天际线问题",
  "difficulty": "HARD",
  "tags": [
    "扫描线",
    "堆"
  ],
  "content": "城市天际线由一组矩形建筑物叠加形成。每个建筑用三元组 [L, R, H] 表示其左右横坐标 L、R（L < R）和高度 H。站在远处观察时，看到的轮廓由若干关键点 (x, h) 组成：按横坐标升序列出高度发生变化的位置及对应的可见高度，最末高度应回到 0。给定所有建筑，输出完整的关键点序列。需要正确处理建筑重叠、贴边、嵌套与空输入等情况。",
  "input_description": "第一行输入整数 n，表示建筑数量。接下来 n 行，每行三个整数 L R H，描述一个建筑的左右端点与高度。若 n = 0，则无后续行。",
  "output_description": "输出天际线关键点序列，每行两个整数 x h，按 x 升序排列；当高度归零时也需输出对应关键点。若没有建筑，输出空行（仅换行）。",
  "constraints": "$0 \\le n \\le 10^{4}$，坐标与高度为 32 位有符号整数，保证 L < R，H \\ge 0。",
  "is_spj": false,
  "spj_code": null,
  "testcases": [
    {
      "input_text": "5\n2 9 10\n3 7 15\n5 12 12\n15 20 10\n19 24 8\n",
      "output_text": "2 10\n3 15\n7 12\n12 0\n15 10\n20 8\n24 0\n",
      "is_sample": true
    },
    {
      "input_text": "2\n0 2 3\n2 5 3\n",
      "output_text": "0 3\n5 0\n",
      "is_sample": true
    },
    {
      "input_text": "0\n",
      "output_text": "\n",
      "is_sample": false
    },
    {
      "input_text": "1\n0 1 3\n",
      "output_text": "0 3\n1 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n0 2 3\n1 3 3\n2 4 3\n",
      "output_text": "0 3\n4 0\n",
      "is_sample": false
    },
    {
      "input_text": "2\n2 4 7\n2 4 5\n",
      "output_text": "2 7\n4 0\n",
      "is_sample": false
    },
    {
      "input_text": "2\n1 3 4\n3 4 4\n",
      "output_text": "1 4\n4 0\n",
      "is_sample": false
    },
    {
      "input_text": "2\n0 2 10\n1 2 5\n",
      "output_text": "0 10\n2 0\n",
      "is_sample": false
    },
    {
      "input_text": "2\n1 5 3\n2 6 4\n",
      "output_text": "1 3\n2 4\n6 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n0 5 3\n2 7 4\n5 10 2\n",
      "output_text": "0 3\n2 4\n7 2\n10 0\n",
      "is_sample": false
    },
    {
      "input_text": "2\n0 5 3\n0 5 4\n",
      "output_text": "0 4\n5 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n1 2 1\n1 2 2\n1 2 3\n",
      "output_text": "1 3\n2 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n1 2 1\n2 3 2\n3 4 3\n",
      "output_text": "1 1\n2 2\n3 3\n4 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n0 2 3\n2 4 4\n4 6 2\n",
      "output_text": "0 3\n2 4\n4 2\n6 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n0 2 3\n1 5 4\n2 3 5\n",
      "output_text": "0 3\n1 4\n2 5\n3 4\n5 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n5 7 3\n1 3 3\n3 5 3\n",
      "output_text": "1 3\n7 0\n",
      "is_sample": false
    },
    {
      "input_text": "4\n0 2 3\n0 2 2\n2 4 3\n2 4 2\n",
      "output_text": "0 3\n4 0\n",
      "is_sample": false
    },
    {
      "input_text": "3\n0 3 5\n1 2 6\n2 4 4\n",
      "output_text": "0 5\n1 6\n2 5\n3 4\n4 0\n",
      "is_sample": false
    },
    {
      "input_text": "4\n1 10 2\n2 9 3\n3 8 4\n4 7 5\n",
      "output_text": "1 2\n2 3\n3 4\n4 5\n7 4\n8 3\n9 2\n10 0\n",
      "is_sample": false
    },
    {
      "input_text": "4\n0 2 1\n2 4 2\n4 6 3\n6 8 4\n",
      "output_text": "0 1\n2 2\n4 3\n6 4\n8 0\n",
      "is_sample": false
    }
  ]
}
